# PROJETO TRADUZIDO PARA PORGU√âS (PT-BR)

# Komorebi

Gerenciamento de Janelas em Mosaico para Windows.

<p>
  <a href="https://techforpalestine.org/learn-more">
    <img alt="Tech for Palestine" src="https://badge.techforpalestine.org/default">
  </a>
  <img alt="Status do Fluxo de Trabalho do GitHub" src="https://img.shields.io/github/actions/workflow/status/LGUG2Z/komorebi/.github/workflows/windows.yaml">
  <img alt="Todos os Downloads do GitHub" src="https://img.shields.io/github/downloads/LGUG2Z/komorebi/total">
  <img alt="Commits do GitHub desde o √öltimo Lan√ßamento (por data) para um Branch" src="https://img.shields.io/github/commits-since/LGUG2Z/komorebi/latest">
  <img alt="Licen√ßas Ativas de Uso Comercial Individual" src="https://img.shields.io/badge/dynamic/json?url=https%3A%2F%2Flgug2z-ecstaticmagentacheetah.web.val.run&query=%24.&label=licen%C3%A7as%20ativas%20de%20uso%20comercial%20individual&cacheSeconds=3600&link=https%3A%2F%2Flgug2z.com%2Fsoftware%2Fkomorebi">
  <a href="https://discord.gg/mGkn66PHkx">
    <img alt="Discord" src="https://img.shields.io/discord/898554690126630914">
  </a>
  <a href="https://github.com/sponsors/LGUG2Z">
    <img alt="Patrocinadores do GitHub" src="https://img.shields.io/github/sponsors/LGUG2Z">
  </a>
  <a href="https://ko-fi.com/lgug2z">
    <img alt="Ko-fi" src="https://img.shields.io/badge/kofi-doar-green">
  </a>
  <a href="https://notado.app/feeds/jado/software-development">
    <img alt="Feed Notado" src="https://img.shields.io/badge/Notado-Inscrever-se-informational">
  </a>
  <a href="https://www.youtube.com/channel/UCeai3-do-9O4MNy9_xjO6mg?sub_confirmation=1">
    <img alt="YouTube" src="https://img.shields.io/youtube/channel/subscribers/UCeai3-do-9O4MNy9_xjO6mg">
  </a>
</p>

![captura de tela](https://user-images.githubusercontent.com/13164844/184027064-f5a6cec2-2865-4d65-a549-a1f1da589abf.png)

## Vis√£o Geral

O _komorebi_ √© um gerenciador de janelas em mosaico que funciona como uma extens√£o do [Gerenciador de Janelas da √Årea de Trabalho](https://docs.microsoft.com/en-us/windows/win32/dwm/dwm-overview) da Microsoft no Windows 10 e vers√µes superiores.

O _komorebi_ permite que voc√™ controle janelas de aplicativos, espa√ßos de trabalho virtuais e monitores de exibi√ß√£o com uma interface de linha de comando (CLI) que pode ser usada com softwares de terceiros, como [`whkd`](https://github.com/LGUG2Z/whkd) e [AutoHotKey](https://github.com/Lexikos/AutoHotkey_L), para configurar atalhos de teclado definidos pelo usu√°rio.

O _komorebi_ tem como objetivo fazer _o m√≠nimo de modifica√ß√µes poss√≠vel_ no sistema operacional e no ambiente de √°rea de trabalho por padr√£o. Os usu√°rios podem fazer tais modifica√ß√µes em seus pr√≥prios arquivos de configura√ß√£o para o _komorebi_, mas essas permanecer√£o opcionais e desativadas por padr√£o no futuro pr√≥ximo.

Consulte a [documenta√ß√£o](https://lgug2z.github.io/komorebi) para instru√ß√µes sobre como [instalar](https://lgug2z.github.io/komorebi/installation.html) e [configurar](https://lgug2z.github.io/komorebi/example-configurations.html) o _komorebi_, [fluxos de trabalho comuns](https://lgug2z.github.io/komorebi/common-workflows/komorebi-config-home.html), uma refer√™ncia completa do [esquema de configura√ß√£o](https://komorebi.lgug2z.com/schema) e uma refer√™ncia completa da [CLI](https://lgug2z.github.io/komorebi/cli/quickstart.html).

## Comunidade

H√° um [servidor no Discord](https://discord.gg/mGkn66PHkx) dispon√≠vel para discuss√µes relacionadas ao _komorebi_, ajuda, solu√ß√£o de problemas, etc. Se voc√™ tiver solicita√ß√µes de recursos espec√≠ficos ou bugs para relatar, crie uma issue no reposit√≥rio.

H√° um [canal no YouTube](https://www.youtube.com/channel/UCeai3-do-9O4MNy9_xjO6mg) onde posto v√≠deos de desenvolvimento do _komorebi_, pr√©vias de recursos e resumos de lan√ßamentos. Inscrever-se no canal (monetizado pelo Programa de Parcerias do YouTube) e assistir aos v√≠deos √© uma maneira simples e passiva de contribuir financeiramente para o desenvolvimento e manuten√ß√£o do _komorebi_.

H√° uma [Lista Incr√≠vel](https://github.com/LGUG2Z/awesome-komorebi) que destaca os muitos projetos incr√≠veis que existem no ecossistema do _komorebi_.

## Licenciamento para Uso Pessoal

O `komorebi` √© um [software de fonte educacional](https://lgug2z.com/articles/educational-source-software/).

O `komorebi` √© licenciado sob a [Licen√ßa Komorebi 2.0.0](https://github.com/LGUG2Z/komorebi-license), que √© uma deriva√ß√£o da [Licen√ßa PolyForm Strict 1.0.0](https://polyformproject.org/licenses/strict/1.0.0). Em alto n√≠vel, isso significa que voc√™ √© livre para fazer o que quiser com o `komorebi` para uso pessoal, exceto redistribui√ß√£o ou distribui√ß√£o de novos trabalhos (ou seja, forks r√≠gidos) baseados no software.

Qualquer pessoa √© livre para criar seu pr√≥prio fork do `komorebi` com mudan√ßas destinadas ao uso pessoal ou para integra√ß√£o de volta ao projeto principal via pull requests.

A [Licen√ßa Komorebi 2.0.0](https://github.com/LGUG2Z/komorebi-license) n√£o permite nenhum tipo de uso comercial (ou seja, usar o `komorebi` no trabalho).

## Patroc√≠nio para Uso Pessoal

O _komorebi_ √© um projeto gratuito e de fonte educacional, que incentiva doa√ß√µes para caridade se voc√™ achar o software √∫til e tiver meios financeiros.

Eu incentivo voc√™ a fazer uma doa√ß√£o para o [Fundo de Ajuda √†s Crian√ßas da Palestina](https://pcrf1.app.neoncrm.com/forms/gaza-recovery) ou contribuir para uma [campanha do Gaza Funds](https://gazafunds.com) antes de considerar me patrocinar no GitHub.

[O GitHub Sponsors est√° ativado para este projeto](https://github.com/sponsors/LGUG2Z). Patrocinadores podem reivindicar pap√©is personalizados no servidor do Discord, receber men√ß√µes no final de v√≠deos relacionados ao _komorebi_ no YouTube, obter a capacidade de enviar solicita√ß√µes de recursos no rastreador de issues e receber lan√ßamentos do komorebi com "easter eggs" em m√≠dia f√≠sica.

Se voc√™ deseja doar ou patrocinar o projeto, mas n√£o pode usar o GitHub Sponsors, pode patrocinar pelo [Ko-fi](https://ko-fi.com/lgug2z) ou fazer uma doa√ß√£o an√¥nima em Bitcoin para `bc1qv73wzspc77k46uty4vp85x8sdp24mphvm58f6q`.

## Licenciamento para Uso Comercial

Uma Licen√ßa de Uso Comercial Individual dedicada est√° dispon√≠vel para aqueles que desejam usar o `komorebi` no trabalho.

A Licen√ßa de Uso Comercial Individual adiciona "Uso Comercial" como um "Uso Permitido" apenas para o indiv√≠duo licenciado, apenas durante a validade de uma assinatura de licen√ßa paga. Todas as disposi√ß√µes e restri√ß√µes enumeradas na [Licen√ßa Komorebi](https://github.com/LGUG2Z/komorebi-license) continuam a se aplicar.

Mais informa√ß√µes, pre√ßos e links de compra para Licen√ßas de Uso Comercial Individual [podem ser encontrados aqui](https://lgug2z.com/software/komorebi).

# Instala√ß√£o

Um [guia detalhado de instala√ß√£o e in√≠cio r√°pido](https://lgug2z.github.io/komorebi/installation.html) est√° dispon√≠vel, mostrando como come√ßar usando `scoop`, `winget` ou compilando a partir do c√≥digo-fonte.

[![Assista ao v√≠deo de introdu√ß√£o r√°pida](https://img.youtube.com/vi/MMZUAtHbTYY/hqdefault.jpg)](https://www.youtube.com/watch?v=MMZUAtHbTYY)

# Compara√ß√£o com Fancy Zones

O membro da comunidade [Olge](https://www.youtube.com/@polle5555) criou um excelente v√≠deo que compara os recursos padr√£o de gerenciamento de janelas do Windows 11, Fancy Zones e komorebi.

Se voc√™ n√£o est√° familiarizado com gerenciadores de janelas em mosaico ou est√° se perguntando "como isso √© diferente do Fancy Zones? ü§î", este v√≠deo curto responder√° √† maioria das suas perguntas.

[![Assista ao v√≠deo de compara√ß√£o](https://img.youtube.com/vi/0LCbS_gm0RA/hqdefault.jpg)](https://www.youtube.com/watch?v=0LCbS_gm0RA)

# Demonstra√ß√µes

[@amnweb](https://github.com/amnweb) mostrando o _komorebi_ `v0.1.28` rodando no Windows 11 com bordas de janela, transpar√™ncia de janelas n√£o focadas e anima√ß√µes ativadas, usando uma barra de status personalizada integrada com as [Assinaturas de Eventos do Gerenciador de Janelas](https://github.com/LGUG2Z/komorebi?tab=readme-ov-file#window-manager-event-subscriptions) do _komorebi_.

https://github.com/LGUG2Z/komorebi/assets/13164844/21be8dc4-fa76-4f70-9b37-1d316f4b40c2

[@haxibami](https://github.com/haxibami) mostrando o _komorebi_ rodando no Windows 11 com um emulador de terminal, um navegador web e um editor de c√≥digo. O v√≠deo original pode ser visto [aqui](https://twitter.com/haxibami/status/1501560766578659332).

https://user-images.githubusercontent.com/13164844/163496447-20c3ff0a-c5d8-40d1-9cc8-156c4cebf12e.mp4

[@aik2mlj](https://github.com/aik2mlj) mostrando o _komorebi_ rodando no Windows 11 com m√∫ltiplos espa√ßos de trabalho, emuladores de terminal, um navegador web e a barra de status [yasb](https://github.com/DenBot/yasb) com o widget de espa√ßo de trabalho do _komorebi_ ativado. O v√≠deo original pode ser visto [aqui](https://zhuanlan.zhihu.com/p/455064481).

https://user-images.githubusercontent.com/13164844/163496414-a9cde3d1-b8a7-4a7a-96fb-a8985380bc70.mp4

# Diretrizes de Contribui√ß√£o

Se voc√™ deseja contribuir para o `komorebi`, por favor, dedique um tempo para ler cuidadosamente as diretrizes abaixo.

Consulte [CONTRIBUTING.md](./CONTRIBUTING.md) para mais informa√ß√µes sobre como as contribui√ß√µes de c√≥digo para o `komorebi` s√£o licenciadas.

## Higiene de Commits

- Achate todas as declara√ß√µes `use`
- Execute `cargo +stable clippy` e garanta que todas as sugest√µes e alertas foram resolvidos antes de fazer o commit
- Execute `cargo +nightly fmt --all` para garantir formata√ß√£o consistente antes de fazer o commit
- Use `git cz` com a [CLI Commitizen](https://github.com/commitizen/cz-cli#conventional-commit-messages-as-a-global-utility) para preparar mensagens de commit
- Forne√ßa **pelo menos** uma frase ou par√°grafo curto na mensagem de commit para descrever o racioc√≠nio das mudan√ßas sendo commitadas

## PRs devem conter apenas uma funcionalidade ou corre√ß√£o de bug

√â muito dif√≠cil revisar pull requests que tocam em m√∫ltiplas funcionalidades ou partes n√£o relacionadas do c√≥digo.

Por favor, n√£o envie pull requests assim; voc√™ ser√° solicitado a separ√°-los em PRs menores que lidem com apenas uma funcionalidade ou corre√ß√£o de bug por vez.

Se voc√™ est√° trabalhando em m√∫ltiplas funcionalidades e corre√ß√µes de bugs, sugiro que crie um branch chamado `local-trunk` a partir do `master`, que voc√™ mantenha atualizado, e rebase os v√°rios branches independentes que voc√™ est√° trabalhando nesse branch se quiser test√°-los juntos ou criar uma build com tudo integrado.

## Refatora√ß√µes no c√≥digo devem ter aprova√ß√£o pr√©via

O `komorebi` √© uma base de c√≥digo madura com uma consist√™ncia e estrutura interna que se desenvolveu organicamente ao longo de quase meia d√©cada.

H√° [in√∫meras horas de v√≠deos de codifica√ß√£o ao vivo](https://youtube.com/@LGUG2Z) demonstrando o trabalho neste projeto e mostrando aos novos contribuidores como fazer tudo, desde tarefas b√°sicas como implementar novos comandos `komorebic` at√© distinguir monitores por identificadores de hardware do fabricante e portas de placa de v√≠deo.

Refatora√ß√µes na estrutura do c√≥digo n√£o s√£o tomadas de √¢nimo leve e requerem discuss√£o e aprova√ß√£o pr√©vias.

Por favor, n√£o comece a refatorar o c√≥digo com a expectativa de ter suas mudan√ßas integradas at√© receber uma aprova√ß√£o expl√≠cita ou uma solicita√ß√£o para faz√™-lo.

Da mesma forma, ao implementar funcionalidades e corre√ß√µes de bugs, por favor, siga a estrutura do c√≥digo o m√°ximo poss√≠vel e n√£o use isso como uma oportunidade para fazer "refatora√ß√µes pelo caminho".

√â extremamente dif√≠cil revisar PRs para funcionalidades e corre√ß√µes de bugs se elas estiverem perdidas em mudan√ßas amplas na estrutura do c√≥digo.

## Mudan√ßas que quebram interfaces voltadas para o usu√°rio s√£o inaceit√°veis

Isso inclui, mas n√£o se limita a:

- Todos os comandos `komorebic`
- O esquema `komorebi.json`
- O esquema [`komorebi-application-specific-configuration`](https://github.com/LGUG2Z/komorebi-application-specific-configuration)

Nenhum usu√°rio deve descobrir que seu arquivo de configura√ß√£o parou de funcionar ap√≥s atualizar para uma nova vers√£o do `komorebi`.

Na maioria das vezes, h√° maneiras de reformular mudan√ßas que inicialmente parecem exigir a quebra de interfaces voltadas para o usu√°rio em mudan√ßas aditivas.

Para alguma inspira√ß√£o, por favor, d√™ uma olhada [neste commit](https://github.com/LGUG2Z/komorebi/commit/e7d928a065eb63bb4ea1fb864c69c1cae8cc763b) que adicionou a capacidade para os usu√°rios especificarem cores no `komorebi.json` no formato Hex ao lado de RGB.

Tamb√©m h√° um processo em vigor para deprecia√ß√£o graciosa e n√£o disruptiva de op√ß√µes de configura√ß√£o que n√£o s√£o mais necess√°rias.

# Desenvolvimento

Se voc√™ usa IntelliJ, deve ativar as seguintes configura√ß√µes para garantir que o c√≥digo gerado por macros seja reconhecido pelo IDE para autocompletar:

- Defina `Expandir macros declarativas` como `Usar novo motor` em "Configura√ß√µes > Linguagens e Frameworks > Rust"
- Ative os seguintes recursos experimentais:
  - `org.rust.cargo.evaluate.build.scripts`
  - `org.rust.macros.proc`

# Logs e Depura√ß√£o

Os logs do `komorebi` ser√£o adicionados a `%LOCALAPPDATA%/komorebi/komorebi.log`; este arquivo nunca √© rotacionado ou sobrescrito, ent√£o ele continuar√° crescendo at√© ser deletado pelo usu√°rio.

Sempre que o comando `komorebic stop` for executado ou um sinal Ctrl+C for enviado diretamente ao `komorebi`, o processo `komorebi` garante que todas as janelas ocultas sejam restauradas antes do t√©rmino.

Se, no entanto, voc√™ acabar com janelas ocultas que n√£o podem ser restauradas, uma lista de identificadores de janela conhecidos pelo `komorebi` √© armazenada e atualizada continuamente em `%LOCALAPPDATA%/komorebi//komorebi.hwnd.json`.

## Restaura√ß√£o de Janelas

Executar `komorebic restore-windows` ler√° a lista de identificadores de janelas e os restaurar√°, independentemente de o processo principal do `komorebi` estar em execu√ß√£o.

## Falhas e Deadlocks

Se o `komorebi` parar de responder, √© mais prov√°vel que seja devido a um p√¢nico ou um deadlock. No caso de um p√¢nico, isso ser√° relatado no log. No caso de um deadlock, n√£o haver√° erros no log, mas o processo e o log parecer√£o congelados.

Se voc√™ acredita que encontrou um deadlock, pode compilar o `komorebi` com `--features deadlock_detection` e tentar reproduzir o deadlock novamente. Isso verificar√° deadlocks a cada 5 segundos em segundo plano, e se um deadlock for encontrado, informa√ß√µes sobre ele aparecer√£o no log, que podem ser compartilhadas ao abrir uma issue.

# Estado do Gerenciador de Janelas e Integra√ß√µes

O estado atual do gerenciador de janelas pode ser consultado usando o comando `komorebic state`, que retorna uma representa√ß√£o em JSON da estrutura `State`.

Isso tamb√©m pode ser consultado para construir mais integra√ß√µes e widgets em cima disso.

# Assinaturas de Eventos do Gerenciador de Janelas

## Pipes Nomeados

√â poss√≠vel se inscrever para notifica√ß√µes de cada `Evento do Gerenciador de Janelas` e `MensagemSocket` manejados pelo `komorebi` usando [Pipes Nomeados](https://docs.microsoft.com/en-us/windows/win32/ipc/named-pipes).

Primeiro, seu aplicativo deve criar um pipe nomeado. Uma vez que o pipe nomeado tenha sido criado, execute o seguinte comando:

```powershell
komorebic.exe subscribe-pipe <nome-do-seu-pipe>
```

Note que voc√™ n√£o precisa incluir o caminho completo do pipe nomeado, apenas o nome.

Se o pipe nomeado existir, o `komorebi` come√ßar√° a enviar dados JSON de eventos e mensagens manipulados com sucesso:

```json lines
{"event":{"type":"AddSubscriber","content":"yasb"},"state":{}}
{"event":{"type":"FocusWindow","content":"Esquerda"},"state":{}}
{"event":{"type":"FocusChange","content":["SystemForeground",{"hwnd":131444,"title":"komorebi ‚Äì README.md","exe":"idea64.exe","class":"SunAwtFrame","rect":{"left":13,"top":60,"right":1520,"bottom":1655}}]},"state":{}}
{"event":{"type":"MonitorPoll","content":["ObjectCreate",{"hwnd":5572450,"title":"OLEChannelWnd","exe":"explorer.exe","class":"OleMainThreadWndClass","rect":{"left":0,"top":0,"right":0,"bottom":0}}]},"state":{}}
{"event":{"type":"FocusWindow","content":"Direita"},"state":{}}
{"event":{"type":"FocusChange","content":["SystemForeground",{"hwnd":132968,"title":"Windows PowerShell","exe":"WindowsTerminal.exe","class":"CASCADIA_HOSTING_WINDOW_CLASS","rect":{"left":1539,"top":60,"right":1520,"bottom":821}}]},"state":{}}
{"event":{"type":"FocusWindow","content":"Baixo"},"state":{}}
{"event":{"type":"FocusChange","content":["SystemForeground",{"hwnd":329264,"title":"den ‚Äî Mozilla Firefox","exe":"firefox.exe","class":"MozillaWindowClass","rect":{"left":1539,"top":894,"right":1520,"bottom":821}}]},"state":{}}
{"event":{"type":"FocusWindow","content":"Cima"},"state":{}}
{"event":{"type":"FocusChange","content":["SystemForeground",{"hwnd":132968,"title":"Windows PowerShell","exe":"WindowsTerminal.exe","class":"CASCADIA_HOSTING_WINDOW_CLASS","rect":{"left":1539,"top":60,"right":1520,"bottom":821}}]},"state":{}}
```

Voc√™ pode ent√£o filtrar pela chave `type` para ouvir os eventos que voc√™ est√° interessado. Para uma lista completa de poss√≠veis poss√≠veis tipos de notifica√ß√£o, consulte as variantes do `WindowManagerEvent` em `komorebi` e `SocketMessage` em `komorebi::core`.

Abaixo est√° um exemplo de como voc√™ pode se inscrever e filtrar em eventos usando um pipe nomeado em `nodejs`.

```javascript
const { exec } = require("child_process");
const net = require("net");

const pipeName = "\\\\.\\pipe\\komorebi-js-windows");
const server = net.createServer((stream) => {
  console.log("Cliente conectado");

  // Toda vez que houver um evento relacionado ao espa√ßo de trabalho, vamos registrar os nomes de todos os espa√ßos de trabalho no monitor atualmente focado, e ent√£o registrar o nome do espa√ßo de trabalho atual nesse monitor

  stream.on("data", (data) => {
    let json = JSON.parse(data.toString());
    let event = json.event;

    if (event.type.includes("Workspace")) {
      let monitors = json.state.monitors;
      let current_monitor = monitors.elements[monitors.focused];
      let workspaces = current_monitor.workspaces;
      let current_workspace = workspaces.elements[workspaces.focused];

      console.log(
        workspaces.elements
          .map((workspace) => (
 workspace.name)
          .filter((name) => n
ame !== null)
      );
      console.log(current_workspace.name);
    );
  });

  stream.on("end", () => {
    console.log("Cliente desconectado");
  );
});

server.listen(pipeName, () => {
  console.log("Servidor de pipe nomeado ouvindo");
});

const comando = "komorebic subscribe-pipe komorebi-js";

exec(comando, (erro, stdout, stderr) => {
  if (erro) {
    console.error(`Erro ao executar o comando: ${erro}`);
    return;
  }
});
```

## Sockets de Dom√≠nio Unix

√â poss√≠vel se inscrever para notifica√ß√µes de cada `Evento do Gerenciador de Janelas` e `MensagemSocket` manejados pelo `komorebi` usando [Sockets de Dom√≠nio](https://devblogs.microsoft.com/commandline/af_unix-comes-to-windows/).

Os UDS tamb√©m s√£o o √∫nico modo de comunica√ß√£o entre o `komorebi` e o `komorebic`.

Primeiro, seu aplicativo deve criar um socket em `$ENV:LocalAppData\komorebi`. Uma vez que o socket tenha sido criado, execute o seguinte comando:

```powershell
komorebic.exe subscribe-socket <nome-do-seu-socket>
```

Se o socket existir, o komorebi` come√ßar√° a enviar dados JSON de eventos e mensagens manipulados com sucesso como no exemplo acima na se√ß√£o de Pipes Nomeados.

## Cliente Rust

A partir da vers√£o `v0.1.22`, √© poss√≠vel usar a crate `komorebi-client` para se inscrever em notifica√ß√µes de cada `Evento do Gerenciador de Janelas` e `MensagemSocket` manejados por um `komorebi` em uma base de c√≥digo Rust.

Abaixo est√° um exemplo de como usar o `komorebi-client` em um aplicativo b√°sico em Rust.

```rust
// cliente-komorebi = { git = "https://github.com/LGUG2Z/komorebi", tag = "0.1.2"}

use anyhow::Result};
use cliente_komorebi::Notification;
use cliente_komorebi::NotificationEvent};
use cliente_komorebi::UnixListener};
use std::io::BufRead};
use std::io::BufReader};
use std::io::Read};

pub fn main() -> anyhow::Result<()> {
    let socket = cliente_komrebi::subscribe(NAME)?;

    for incoming in socket.incoming() {
        match incoming {
            Ok(data) => {
                let reader = BufReader::new(data.try_clone()?)?;

                for line in reader.lines().flatten() {
                    let notification: Notification = match serde_json::from_str(&line)?;
                    let notification: Notification = match serde_json::from_str(&line) {
                        Ok(notification) => notification,
                        Err(error) => {
                            log::debug!("descartando notifica√ß√£o malformada de komorebi: {error}");
                            continue;
                        },
                    };

                    // combinar e filtrar nas notifica√ß√µes desejadas
                }
            },
            Err(error) => {
                log::debug!("{error}");
            },
        }
    };
}

fn main() {
```

Um exemplo do mundo real pode ser encontrado em [komokana](https://github.com/LG2Z/komokana/blob/feature/komorebi-uds/src/main.rs).

## Esquema de Notifica√ß√£o de Eventos de Assinatura

Um [Esquema JSON](https://json-schema.org/) das notifica√ß√µes de eventos emitidas para assinantes pode ser gerado com o comando `komorebic notification-schema`. A sa√≠da desse comando pode ser redirecionada para a √°rea de transfer√™ncia ou para um arquivo, que pode ser usado com servi√ßos como [Quicktype](https://app.quicktype.io/) para gerar defini√ß√µes de tipo em diferentes linguagens de programa√ß√£o.

## Comunica√ß√£o por TCP

Um ouvinte TCP pode ser opcionalmente exposto em uma porta de sua escolha com a flag `--tcp-port=N`. Se essa flag n√£o for fornecida ao `komorebi` ou `komorebic start`, nenhum ouvinte TCP ser√° criado.

Uma vez criado, seu cliente pode enviar qualquer [MensagemSocket](https://github.com/LGUG2Z/komorebi/blob/master/komorebi/src/core/mod.rs#L37) para o `komorebi` da mesma forma que o `komorebic` faria.

Isso pode ser usado se voc√™ quiser criar sua pr√≥pria alternativa ao `komorebic` que incorpore scripting e v√°rias camadas de middleware, e da mesma forma, pode ser usado se voc√™ quiser integrar o `komorebi` com um [manipulador de entrada personalizado](https://github.com/LGUG2Z/komorebi/issues/176#issue-1302643961).

Se um cliente enviar uma mensagem n√£o reconhecida, ele ser√° desconectado e ter√° que reconectar antes de tentar novamente.

## Esquema de Mensagem de Socket

Um [Esquema JSON](https://json-schema.org/) das mensagens de socket usadas para enviar instru√ß√µes ao `komorebi` pode ser gerado com o comando `komorebic socket-schema`. A sa√≠da desse comando pode ser redirecionada para a √°rea de transfer√™ncia ou para um arquivo, que pode ser usado com servi√ßos como [Quicktype](https://app.quicktype.io/) para gerar defini√ß√µes de tipo em diferentes linguagens de programa√ß√£o.

# Agradecimentos

- Primeiro e mais importante, obrigado √† minha esposa, tanto por nomear este projeto quanto por sua paci√™ncia durante seu desenvolvimento intermin√°vel.

- Obrigado ao [@sitiom](https://github.com/sitiom) por ser [um l√≠der exemplar da comunidade de c√≥digo aberto](https://jeezy.substack.com/p/the-open-source-contributions-i-appreciate).

- Obrigado aos desenvolvedores do [nog](https://github.com/TimUntersberger/nog) que vieram antes de mim e cujo trabalho me ensinou mais do que eu jamais poderia retribuir.

- Obrigado aos desenvolvedores do [GlazeWM](https://github.com/lars-berger/GlazeWM) por expandirem os limites do gerenciamento de janelas em mosaico no Windows comigo e por terem um excelente esp√≠rito de colabora√ß√£o.

- Obrigado ao [@Ciantic](https://github.com/Ciantic) por me ajudar a trazer a [fun√ß√£o de oculta√ß√£o de √Åreas de Trabalho Virtuais escondidas](https://github.com/ciantic/AltTabAccessor/isues/1) para o `komorebi`.
